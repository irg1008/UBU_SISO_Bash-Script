local tipo
local opcionesEntrada
opcionesEntrada=(
  "1.- Entrada manual por teclado"
  "2.- Entrada automática por archivo"
  "3.- Entrada automática con valores aleatorios"
  "4.- Ayuda"
  "0.- Salir"
)

centrarEnPantalla "$(imprimirCuadro "50" "default" "MENÚ PRINCIPAL")" | sacarHaciaArchivo "$archivoSalida" -a
centrarEnPantalla "$(imprimirCuadro "50" "default" "${opcionesEntrada[@]}")" | sacarHaciaArchivo "$archivoSalida" -a
tipo=$(recibirEntrada)

while [[ ! "$tipo" =~ ^[0-4]$ ]]; do
  centrarEnPantalla "$(imprimirCuadro "80" "error" "Inserta un valor numérico entre 0 y 4")"
  tipo=$(recibirEntrada)
done
function guardaTipoEnArchivo() {
  centrarEnPantalla "$(imprimirCuadro "50" "blanco" "Asignación de datos $1")" >>"$archivoSalida"
}
function volcarDatosHaciaArchivo() {
  printf "Memoria=%s" "$MEM_TAM" >"$1"
  printf "\nLlegada,Ejecución,Tamaño" >>"$1"
  for ((i = 1; i <= NUM_FIL; i++)); do
    printf "\n%s,%s,%s" "${array[2, $i]}" "${array[3, $i]}" "${array[4, $i]}" >>"$1"
  done

}

case "$tipo" in
1)
  guardaTipoEnArchivo "manual"
  asignarManual
  volcarDatosHaciaArchivo "$1"
  ;;
2)
  guardaTipoEnArchivo "automática desde archivo"
  asignarDesdeArchivo "$1"
  eliminarProcesosNoValidos
  ;;
3)
  guardaTipoEnArchivo "aleatoria"
  asignarValoresAleatorios
  volcarDatosHaciaArchivo "$1"
  ;;
4)
  imprimirAyuda
  ;;
0)
  centrarEnPantalla "$(imprimirCuadro "60" "advertencia" "Ha salido del programa mediante el menú de opciones")" | sacarHaciaArchivo "$archivoSalida"
  exit 99
  ;;
*)
  centrarEnPantalla "$(imprimirCuadro "100" "error" "Ha ocurrido algún tipo de error")" | sacarHaciaArchivo "$archivoSalida" -a
  exit 99
  ;;
esac

colocarNombreAProcesos
